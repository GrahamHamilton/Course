---
title: "Attendance Notebook"
output: html_notebook
---

```{r}
cran.packages <- c("tidyverse")

cran.load <- function(pkg){
        new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
        if (length(new.pkg)){
          install.packages(new.pkg, dependencies = TRUE)
          }
        sapply(pkg, require, character.only = TRUE)
}
cran.load(cran.packages)
```

```{r}
polyomics_staff <- c("Graham Hamilton", "David Mcguinness")

data_frame <- list.files(path = ".", pattern = ".csv$") %>%
  map_dfr(.x = ., ~read_delim(.x, , delim = ",", col_types = "ccccdccc")) %>%
  select_all(~gsub("\\s+|\\.", "_", .x)) %>%
  rename(User_Name = "Name_(Original_Name)") %>%
  rename(Duration = "Duration_(Minutes)") %>%
  filter(!User_Name %in% polyomics_staff) %>%
  filter(Duration > 50) %>%
  mutate_all(.funs=toupper) %>%
  arrange(User_Name,Join_Time) %>%
  distinct(User_Name, Join_Time, .keep_all = TRUE) %>%
  dplyr::select(User_Name,Join_Time,Duration) %>%
  mutate(Day = wday(mdy_hms(Join_Time), label=TRUE, abbr = FALSE)) %>%
  arrange(Day)
  
    
ggplot(data_frame, aes(Day)) +
  geom_bar( )


```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
